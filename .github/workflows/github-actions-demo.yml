name: GitHub Actions Demo
run-name: ${{ github.event.head_commit.message }} (${{ github.event.base_ref }})
on:
  push:
    tags:
      - current-release
      - current-release-frontend
      - current-release-return-portal
      - pre-release
      - pre-release-frontend
      - pre-release-return-portal
    branches:
      - develop



jobs:
  test_job:
    runs-on: ubuntu-latest
    env:
      IS_RETURN_PORTAL_TAG: ${{ contains(github.ref, 'frontend') == false }}
      IS_FRONTEND_APP_TAG: ${{ contains(github.ref, 'return-portal') == false }}
    steps:
      - run: echo "${{ toJSON(github) }}"
      - run: echo "124124 {{ $IS_FRONTEND_APP_TAG}}"
      - run: echo "124124 {{ $IS_RETURN_PORTAL_TAG}}"

      - name: Build return-portal
        if: ${{ $IS_RETURN_PORTAL_TAG == true }}
        run: echo "Build return-portal ${{ github.ref }}."

#      - name: Build application
#        if: $IS_FRONTEND_APP_TAG  == true
#        run: echo "Build application ${{ github.ref }}."


#      - name: Build return-portal
#        if: github.ref != 'refs/tags/current-release-frontend' || github.ref == 'refs/tags/pre-release-frontend'
#        run: echo "Build return-portal ${{ github.ref }}."
#
#      - name: Build application
#        if: github.ref != 'refs/tags/current-release-return-portal' || github.ref == 'refs/tags/pre-release-return-portal'
#        run: echo "Build application ${{ github.ref }}."




#      - name: Build return-portal (Pre-release)
#        if: ${{ github.ref == 'refs/tags/pre-release' || github.ref == 'refs/tags/pre-release-return-portal' }}
#        run: echo " Build return-portal ${{ github.ref }}."
#
#      - name: Build application (Pre-release)
#        if: ${{ github.ref == 'refs/tags/pre-release' || github.ref == 'refs/tags/pre-release-frontend' }}
#        run: echo " Build app ${{ github.ref }}."
#
#      - name: Build return-portal (Pre-release)
#        if: ${{ github.ref == 'refs/tags/pre-release' || github.ref == 'refs/tags/pre-release-return-portal' }}
#        run: echo " Build return-portal ${{ github.ref }}."
#
#      - name: Build application (Release)
#        if: ${{ github.ref == 'refs/tags/current-release' || github.ref == 'refs/tags/current-release-frontend' }}
#        run: echo " Build app ${{ github.ref }}."

